{{% BLOCKS }}
	{{< quirk }}
		{{$ title}}
            Edit Block
        {{/ title}}
        {{$ content }}
    		<div class="contentpanel">
    			<ol class="breadcrumb breadcrumb-quirk">
			        <li><a href=""><i class="fa fa-home mr5"></i>Transfer</a></li>
			        <li class="active">Edit Block</li>
      			</ol>
      			{{# transfer }}
	    			<div class="row">
	    				<div class="col-md-6 col-md-offset-3">
		        			<div class="panel">
		        				<div class="panel-heading">
		        					<h4 class="panel-title">Edit Transfer</h4>
		        				</div>
			        			<div class="panel-body">
			        				<hr>			
			        				<form class="form-horizontal" action="/bali/panel/hotel/edit/{{idTransferBlock}}" method="post" name="newHotel" enctype="multipart/form-data" class="form-horizontal">
			        					<div class="form-group">
			                    			<label class="col-sm-3 control-label">Title: <span class="text-danger">*</span></label>
			                    			<div class="col-sm-6">
			                      				<input type="text" name="title" class="form-control" placeholder="Write the hotel's name." value="{{TransferBlockTitle}}" required />
			                    			</div>
			                  			</div>
			                  			<div class="form-group">
			                    			<label class="col-sm-3 control-label">Spanish Title:</label>
			                    			<div class="col-sm-6">
			                     				<input type="text" name="titleesp" class="form-control" placeholder="Write the hotel's address."  value="{{TransferBlockTitle_esp}}"/>
			                    			</div>
			                  			</div>
			                  			<div class="row">
		                    				<div class="col-sm-9 col-sm-offset-8">
						                      <button class="btn btn-success btn-quirk btn-wide mr5">Save</button>
		                    				</div>
		                  				</div>
		                  				<hr>
			                  			<div class="form-group">
			                    			<label class="col-sm-3 control-label">New Detail:</label>
			                    			<div class="col-sm-6">
			                    				<a href="/bali/panel/transfer/addDetail" target="_blank"><button type="button" class="btn btn-success btn-quirk btn-wide mr5">New Detail</button></a>	
			                   				</div>
			                  			</div>
			                  			<hr>
			        				</form>
			        				<hr>
			        				
		        						<div class="table-responsive">
				        					 <table id="dataTable1" class="table table-bordered table-striped-col">
				        					 	<thead>
									                <tr>
									                  <th>Title</th>
									                  <th>Spanish Title</th>
									                  <th>Edit</th>
									                  <th>Delete</th>
									                </tr>
		              							</thead>
									            <tbody>
									            	{{# detail }}
										            	<tr>
										            		<td>
										            			{{td_description}}
										            		</td>
										            		<td>
										            			{{td_description_esp}}
										            		</td>
										            		<td>
										            			<a href="/bali/panel/transfer/editDetail/{{td_id}}">
			                                                        <button type="button" class="btn btn-primary">
			                                                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
			                                                        </button>
			                                                    </a>
			                                                </td>
										            		<td>
										            			<a onclick="myFunction({{td_id}})">
			                                                        <button type="button" class="btn btn-danger">
			                                                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete
			                                                        </button>
			                                                    </a>
										            		</td>
										            	</tr>
									            	{{/ detail }}				            	
									            </tbody>
				        					</table>
				        				</div>
		        					<script>
		                                function myFunction(id) {
		                                    if (confirm("Estas Seguro de Eliminar?") == true) {
		                                        self.location = "/bali/panel/transfer/deleteDetail/"+id; 
		                                    } 
		                                }
		                            </script>
			        			</div>
		        			</div>
	        			</div>
	    			</div>
	    		{{/ transfer }}	
	    	</div>
        {{/ content }}
			{{$ scripts }}
			<script src="/bali/assets/quirk/lib/datatables/jquery.dataTables.js"></script>
			<script src="/bali/assets/quirk/lib/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.js"></script>
			<script src="/bali/assets/quirk/lib/select2/select2.js"></script>
			<script>
				$(document).ready(function() {
  					'use strict';
  					$('#dataTable1').DataTable();
  					var exRowTable = $('#exRowTable').DataTable({
    					responsive: true,
    					'fnDrawCallback': function(oSettings) {
      					$('#exRowTable_paginate ul').addClass('pagination-active-success');
    					},
    					'ajax': 'ajax/objects.txt',
    					'columns': [{
      						'class': 'details-control',
      						'orderable': false,
      						'data': null,
      						'defaultContent': ''
    						},
	    					{ 'data': 'name' },
	    					{ 'data': 'position' },
	    					{ 'data': 'office' },
	    					{ 'data': 'start_date'},
	    					{ 'data': 'salary' }
    					],
    					'order': [[1, 'asc']]
  					});
				  	// Add event listener for opening and closing details
				  	$('#exRowTable tbody').on('click', 'td.details-control', function () {
					    var tr = $(this).closest('tr');
					    var row = exRowTable.row( tr );
					    if ( row.child.isShown() ) {
					      // This row is already open - close it
					      row.child.hide();
					      tr.removeClass('shown');
					    } else {
					      // Open this row
					      row.child( format(row.data()) ).show();
					      tr.addClass('shown');
					    }
  					});

  					function format (d) {
    					// `d` is the original data object for the row
    					return '<h4>'+d.name+'<small>'+d.position+'</small></h4>'+
    					'<p class="nomargin">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>';
  					}

  					// Select2
  					$('select').select2({ minimumResultsForSearch: Infinity });

				});
			</script>
		{{/ scripts }}
	{{/ quirk }}